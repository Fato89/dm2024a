~.x %>%
ocr(engine = esp)) %>%
list_c() %>%
paste(collapse = '\n')
#
# asd <-
resultado %>%
str_split(pattern = "\n")
#
# asd <-
resultado %>%
str_split(pattern = "\n") %>% class
# paso imagen a texto
resultado <-
map(
archivos,
~.x %>%
ocr(engine = esp)) %>%
list_c() %>%
paste(collapse = '\n')
#
# asd <-
resultado %>%
str_split(pattern = "\n") %>% class
resultado
resultado %>% class
resultado %>% length()
#
# asd <-
resultado %>%
str_split(pattern = "\n") %>% class
#
# asd <-
resultado %>%
str_split(pattern = "\n") %>% length()
#
# asd <-
resultado %>%
str_split(pattern = "\n")
#
# asd <-
resultado %>%
str_split(pattern = "\n") %>%
unlist %>%
str_to_upper() %>%
str_subset('COMPLETE')
#
# asd <-
resultado %>%
str_split(pattern = "\n") %>%
unlist %>%
str_to_upper() %>%
str_subset('^COMPLETE',negate = TRUE)
#
# asd <-
resultado %>%
str_split(pattern = "\n") %>%
unlist %>%
str_to_upper() %>%
str_subset('^COMPLETE',negate = TRUE) %>%
str_subset('')
#
# asd <-
resultado %>%
str_split(pattern = "\n") %>%
unlist %>%
str_to_upper() %>%
str_subset('^COMPLETE',negate = TRUE) %>%
str_subset('""')
#
# asd <-
resultado %>%
str_split(pattern = "\n") %>%
unlist %>%
str_to_upper() %>%
str_subset('^COMPLETE',negate = TRUE) %>%
.[.==""]
#
# asd <-
resultado %>%
str_split(pattern = "\n") %>%
unlist %>%
str_to_upper() %>%
str_subset('^COMPLETE',negate = TRUE) %>%
.[.!=""]
# Limpio un poco
res_char <-
resultado %>%
str_split(pattern = "\n") %>%
unlist %>%
str_to_upper() %>%
str_subset('^COMPLETE',negate = TRUE) %>%
.[.!=""] %>%
# Limpio un poco
res_char <-
resultado %>%
str_split(pattern = "\n") %>%
unlist %>%
str_to_upper() %>%
str_subset('^COMPLETE',negate = TRUE) %>%
.[.!=""]
res_char %>%
str_subset("^ZZ")
res_char %>%
str_subset("^ZZ.+\\.CSV")
res_char %>%
str_extract("^ZZ.+\\.CSV")
res_char %>%
str_extract("^ZZ.+\\.CSV") %>% length()
res_char %>%
str_extract("^ZZ.+\\.CSV") %>% str_length()
res_char %>%
str_extract("^ZZ.+\\.CSV") %>%
na.omit()
# score <-
res_char %>%
str_extract("[:digit:]{2}\\.?[:digit:]{3}") %>%
na.omit()
etiqueta <-
res_char %>%
str_extract("^ZZ.+\\.CSV") %>%
na.omit()
score <-
res_char %>%
str_extract("[:digit:]{2}\\.?[:digit:]{3}") %>%
na.omit()
etiqueta
score
etiqueta
etiqueta %>% length()
score %>% length()
res_char
etiqueta
etiqueta
# score <-
res_char %>%
str_extract("\\b[:digit:]{2}\\.?[:digit:]{3}\\b")
res_char
resultado %>%
str_split(pattern = "\n") %>%
unlist %>%
str_to_upper() %>%
str_subset('^COMPLETE',negate = FALSE)
# Limpio un poco y quito la fila de compelete...
res_char <-
resultado %>%
str_split(pattern = "\n") %>%
unlist %>%
str_to_upper() %>%
str_subset('^COMPLETE',negate = TRUE) %>%
.[.!=""]
res_char
tibble(texto=res_char)
tibble(texto=res_char) %>% View()
tibble(texto=res_char) %>%
mutate(
etiqueta=str_extract(texto,"^ZZ.+\\.CSV"),
score=str_extract("\\b[:digit:]{2}\\.?[:digit:]{3}\\b")
) %>% View()
tibble(texto=res_char) %>%
mutate(
etiqueta=str_extract(texto,"^ZZ.+\\.CSV"),
score=str_extract(texto,"\\b[:digit:]{2}\\.?[:digit:]{3}\\b")
) %>% View()
tibble(texto=res_char) %>%
mutate(
etiqueta=str_extract(texto,"^ZZ.+\\.CSV"),
score=case_when(str_detect(texto,"CSV$")~"",
TRUE ~ str_extract(texto,"\\b[:digit:]{2}\\.?[:digit:]{3}\\b")
)
) %>% View()
tibble(texto=res_char) %>%
mutate(
etiqueta=str_extract(texto,"^ZZ.+\\.CSV"),
score=case_when(str_detect(texto,"CSV$")~NA_character_,
TRUE ~ str_extract(texto,"\\b[:digit:]{2}\\.?[:digit:]{3}\\b")
)
) %>% View()
data(srx)
install.packages("Boruta")
data(srx)
library("Boruta")
data(srx)
Boruta(Y~.,data=srx)
srx
Boruta(Y~.,data=srx)
rs <- Boruta(Y~.,data=srx)
print(rs)
rs$finalDecision
rs$finalDecision
rs$ImpHistory
rs$pValue
rs$light
rs$finalDecision
library(tidyverse)
tbl <- readxl::read_excel("../TareasHogar/res_kaggle.xlsx")
tbl
tbl %>% View()
tbl %>%
filter(str_detect("^Complete"))
tbl <- readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE)
tbl %>%
filter(str_detect("^Complete"))
View(tbl)
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`..1`)
View(tbl)
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`)
View(tbl)
tbl
tbl %>%
filter(str_detect(txt,"^Complete"))
tbl %>%
filter(str_detect(txt,"^Complete")) %>% View("asd")
tbl %>%
filter(!str_detect(txt,"^Complete"))
tbl %>%
filter(!str_detect(txt,"^(Complete|check_circle)"))
tbl %>%
filter(!str_detect(txt,"^(Complete|check_circle)"))
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)"))
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(texto,"^ZZ.+\\.CSV"),
score=str_extract(texto,"^[:digit:]{2}\\.?")
)
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ.+\\.CSV"),
score=str_extract(txt,"^[:digit:]{2}\\.?")
)
View(tbl)
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-"),
score=str_extract(txt,"^[:digit:]{2}\\.?")
)
View(tbl)
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-+"),
score=str_extract(txt,"^[:digit:]{2}\\.?")
)
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\.?")
)
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\.?"),
score=lead(score)
)
View(tbl)
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score)
)
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score)
) %>% na.omit()
View(tbl)
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score),
envios=str_extract(etiqueta,"(?<=_)[:digit:](?=\\.csv)")
) %>% na.omit()
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score),
envios=str_extract(etiqueta,"(?<=_)[:digit:](?=\\.csv)")
)
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score),
envios=str_extract(etiqueta,"(?<=_)[:digit:]+(?=\\.csv)")
)
View(tbl)
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score),
envios=str_extract(etiqueta,"(?<=_)[:digit:]+(?=\\.csv)")
) %>%
na.omit()
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score),
envios=str_extract(etiqueta,"(?<=_)[:digit:]+(?=\\.csv)")
) %>%
mutate(
across(c(score,envios),as.numeric)
) %>%
na.omit()
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score),
envios=str_extract(etiqueta,"(?<=_)[:digit:]+(?=\\.csv)"),
semilla=str_extract(etiqueta,"(?<=s)[:digit:]{6}(_)")
) %>%
mutate(
across(c(score,envios),as.numeric)
) %>%
na.omit()
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score),
envios=str_extract(etiqueta,"(?<=_)[:digit:]+(?=\\.csv)"),
semilla=str_extract(etiqueta,"(?<=s)[:digit:]{(?=_)")
) %>%
mutate(
across(c(score,envios),as.numeric)
) %>%
na.omit()
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score),
envios=str_extract(etiqueta,"(?<=_)[:digit:]+(?=\\.csv)"),
semilla=str_extract(etiqueta,"(?<=s)[:digit:]{6}(?=_)")
) %>%
mutate(
across(c(score,envios),as.numeric)
) %>%
na.omit()
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score),
envios=str_extract(etiqueta,"(?<=_)[:digit:]+(?=\\.csv)"),
semilla=str_extract(etiqueta,"(?<=s)[:digit:]{6}(?=_)")
) %>%
mutate(
across(c(score,envios),as.numeric)
) %>%
na.omit() %>%
select(-txt)
ggplot(data = tbl,aes(x = envios,y = score)) +
geom_line()
ggplot(data = tbl,aes(x = envios,y = score, group = semilla)) +
geom_line()
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score),
envios=str_extract(etiqueta,"(?<=_)[:digit:]+(?=\\.csv)"),
semilla=str_extract(etiqueta,"(?<=s)[:digit:]{6}(?=_)"),
experimento=str_sub(etiqueta,1,7)
) %>%
mutate(
across(c(score,envios),as.numeric)
) %>%
na.omit() %>%
select(-txt)
tbl
ggplot(data = tbl,aes(x = envios,y = score, group = semilla*experimento)) +
geom_line() + stat_smooth(aes(group = 1), method = "lm", se = FALSE) +
stat_summary(aes(group = 1), geom = "point", fun.y = mean, shape = 17, size = 3)
ggplot(data = tbl,aes(x = envios,y = score, group = semilla*experimento)) +
geom_line()
ggplot(data = tbl,aes(x = envios,y = score, group = paste0(semilla*experimento))) +
geom_line()
tbl <-
readxl::read_excel("../TareasHogar/res_kaggle.xlsx",col_names = FALSE) %>%
rename(txt=`...1`) %>%
filter(!str_detect(txt,"^(Complete|check_circle)")) %>%
mutate(
etiqueta=str_extract(txt,"^ZZ\\-.+"),
score=str_extract(txt,"^[:digit:]{2}\\..+"),
score=lead(score),
envios=str_extract(etiqueta,"(?<=_)[:digit:]+(?=\\.csv)"),
semilla=str_extract(etiqueta,"(?<=s)[:digit:]{6}(?=_)"),
experimento=str_sub(etiqueta,1,7),
id_gr=paste(semilla,experimento)
) %>%
mutate(
across(c(score,envios),as.numeric)
) %>%
na.omit() %>%
select(-txt)
ggplot(data = tbl,aes(x = envios,y = score, group = id_gr)) +
geom_line()
ggplot(data = tbl,aes(x = envios,y = score, group = id_gr)) +
geom_line() +
stat_summary(aes(group = id_gr), geom = "line", fun.y = mean,shape = 17, size = 3)
ggplot(data = tbl,aes(x = envios,y = score, group = id_gr)) +
geom_line() +
stat_summary(aes(group = id_gr), colour="red", geom="line", size = 3)
ggplot(data = tbl) +
geom_line(aes(x = envios,y = score, group = id_gr),colour="black", geom="line", size = 3) +
stat_summary(aes(x = envios,y = score, group = id_gr), colour="red", geom="line", size = 3)
ggplot(data = tbl) +
geom_line(aes(x = envios,y = score, group = id_gr),colour="black", size = 3)
ggplot(data = tbl) +
geom_line(aes(x = envios,y = score, group = id_gr),colour="black", size = 1) +
stat_summary(aes(x = envios,y = score, group = id_gr), colour="red", geom="line", size = 3)
ggplot(data = tbl) +
geom_line(aes(x = envios,y = score, group = id_gr),colour="black", size = 1) +
stat_summary(aes(y = score, group = id_gr), colour="red", geom="line", size = 3)
ggplot(data = tbl, aes(x = envios)) +
geom_line(aes(y = score, group = id_gr),colour="black", size = 1) +
stat_summary(aes(y = score, group = id_gr), colour="red", geom="line", size = 3)
ggplot(data = tbl, aes(x = envios)) +
geom_line(aes(y = score, group = id_gr),colour="black", size = 1) +
stat_summary(aes(group = id_gr), colour="red", geom="line", size = 3)
ggplot(data = tbl,aes(x = envios,y = score)) +
# geom_line( group = id_gr),colour="black", size = 1) +
stat_summary(aes(group = id_gr), colour="red", geom="line", size = 1)
ggplot(data = tbl,aes(x = envios,y = score)) +
# geom_line( group = id_gr),colour="black", size = 1) +
stat_summary(aes(group = id_gr),fun = "mean", colour="red", geom="line", size = 1)
ggplot(data = tbl,aes(x = envios,y = score)) +
# geom_line( group = id_gr),colour="black", size = 1) +
stat_summary(aes(group = experiemtno),fun = "mean", colour="red", geom="line", size = 1)
ggplot(data = tbl,aes(x = envios,y = score)) +
# geom_line( group = id_gr),colour="black", size = 1) +
stat_summary(aes(group = experimento),fun = "mean", colour="red", geom="line", size = 1)
ggplot(data = tbl,aes(x = envios,y = score)) +
geom_line(aes(group = id_gr),colour="black", size = 1) +
stat_summary(aes(group = experimento),fun = "mean", colour="red", geom="line", size = 1)
ggplot(data = tbl,aes(x = envios,y = score)) +
geom_line(aes(group = id_gr),colour="black", size = 1) +
stat_summary(aes(group = experimento),fun = "mean", colour=experimento, geom="line", size = 1)
ggplot(data = tbl,aes(x = envios,y = score)) +
geom_line(aes(group = id_gr),colour="black", size = 1) +
stat_summary(aes(group = experimento),fun = "mean", colour=experimento, geom="line", size = 1)
ggplot(data = tbl,aes(x = envios,y = score)) +
geom_line(aes(group = id_gr),colour="black", size = 1) +
stat_summary(aes(group = experimento),fun = "mean", colour="red", geom="line", size = 1)
tbl %>% count(envios)
